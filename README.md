# Corroscope - the interactive CommonRoad scenario inspector

Corroscope is an interactive inspector for [CommonRoad](https://commonroad.in.tum.de/) scenarios
as well as trajectories generated by the

Note: Corroscope uses the Protobuf format of CommonRoad scenarios. Reading XML scenarios is unsupported.

## Platform support

Corroscope does not use any platform-specific APIs and should work on Linux, macOS and Windows.
However, currently it has only been verified to run on Linux.

Support for running Corroscope in the browser using WebAssembly is on the roadmap, but not supported currently.

## Build instructions

Steps to build Corroscope:
1. Ensure you have a Rust toolchain available.
   The recommended way to set this up on all common platforms (Linux, macOS, Windows) is
   using rustup, available at https://rustup.rs/.
   For more information, look at the [rustup documentation](https://rust-lang.github.io/rustup/index.html).

2. Build Corroscope:
    * For a release build (if you just want to run Corroscope):
      Run `cargo run --release` to build and run Corroscope.
      Alternatively, you can also run `cargo build --release` to just build Corroscope first,
      and then run the built binary `target/release/corroscope`
    * For a debug build (if you want to work on Corroscope itself):
      Run `cargo run --features dynamic_linking,editor` to build and run Corroscope.
      Enabling the `dynamic_linking` and `editor` features is optional,
      but recommended for debugging: `dynamic_linking` will speed up repeated builds by enabling
      Bevy's dynamic linking feature. `editor` enables simple editor functionality that
      allows inspecting entities at runtime.

## Running Corroscope

Invoke Corroscope specifying the path to the CommonRoad scenario in the Protobuf format
as well as the logs directory from the Reactive Planner.
Example:
```
$ cargo run --release -- --scenario /path/to/ZAM_Tjunction-1_100_T-1.pb --logs /path/to/commonroad-reactive-planner/logs/ZAM_Tjunction-1_100_T-1
```